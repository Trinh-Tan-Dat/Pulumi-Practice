resources:
  natEip:
    type: aws:ec2/eip:Eip
    properties:
      vpc: true

  natGateway:
    type: aws:ec2/natGateway:NatGateway
    properties:
      allocationId: ${natEip.id}
      subnetId: ${publicSubnet.id}
      tags:
        Name: nat-gateway

  privateRoute:
    type: aws:ec2/route:Route
    properties:
      routeTableId: ${privateRouteTable.id}
      destinationCidrBlock: "0.0.0.0/0"
      natGatewayId: ${natGateway.id}
